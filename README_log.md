
# ğŸ›¡ï¸ PES University Log Management Microservice

A modular, Dockerized microservice built using **FastAPI** and **MySQL** to collect, store, and query audit logs generated by various systems within **PES University**. Designed for compliance, observability, and centralized traceability.

---

## ğŸ“Œ Features

- `POST /log` â€” Create a log entry from any internal service
- `GET /logs` â€” Retrieve logs, filterable by `service` and `user_id`
- Swagger UI for interactive API testing at `/docs`
- Auto-timestamped entries
- JSON-based API requests

---

## âš™ï¸ Tech Stack

**Backend:**
- Python 3.12  
- FastAPI (Web framework)  
- SQLAlchemy (ORM)  
- MySQL (Relational DB)  
- PyMySQL (MySQL driver)  
- Pydantic (Data validation)  
- dotenv (Environment variable handling)

**Containerization:**
- Docker (Image creation)
- Docker Compose (Service orchestration)

---

## ğŸš€ Getting Started

### 1. Clone the Repo
```bash
git clone <repo-url>
cd log_microservice_dockerized
```

### 2. Start Services with Docker Compose
```bash
docker-compose up --build
```

- FastAPI runs on: `http://localhost:8001`
- Swagger UI available at: `http://localhost:8001/docs`
- MySQL DB accessible on port `3306`

---

## ğŸ§ª Sample API Usage

### POST `/log`
```json
{
  "service": "alumni_service",
  "user_id": "anvitha123",
  "action": "CREATE_PROFILE",
  "details": {
    "profile": "Anvitha Anand"
  }
}
```

### GET `/logs`
- `/logs` â€” Fetch all logs
- `/logs?service=alumni_service`
- `/logs?user_id=anvitha123`

---

## ğŸ› ï¸ Project Structure

```
log_service/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ database.py
â”‚   â”œâ”€â”€ models.py
â”‚   â”œâ”€â”€ routes.py
â”‚   â””â”€â”€ schemas.py
â”œâ”€â”€ main.py
â”œâ”€â”€ .env
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ requirements.txt
```

---

## ğŸ‘©â€ğŸ’» Author

**Anvitha Anand**  
PES University â€” B.Tech, AI & ML  
SRN: PES1UG22AM029

---

## ğŸ“„ License

MIT License â€” use freely, modify openly.
