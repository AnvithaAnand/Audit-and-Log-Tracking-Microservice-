
# 🛡️ PES University Log Management Microservice

A modular, Dockerized microservice built using **FastAPI** and **MySQL** to collect, store, and query audit logs generated by various systems within **PES University**. Designed for compliance, observability, and centralized traceability.

---

## 📌 Features

- `POST /log` — Create a log entry from any internal service
- `GET /logs` — Retrieve logs, filterable by `service` and `user_id`
- Swagger UI for interactive API testing at `/docs`
- Auto-timestamped entries
- JSON-based API requests

---

## ⚙️ Tech Stack

**Backend:**
- Python 3.12  
- FastAPI (Web framework)  
- SQLAlchemy (ORM)  
- MySQL (Relational DB)  
- PyMySQL (MySQL driver)  
- Pydantic (Data validation)  
- dotenv (Environment variable handling)

**Containerization:**
- Docker (Image creation)
- Docker Compose (Service orchestration)

---

## 🚀 Getting Started

### 1. Clone the Repo
```bash
git clone <repo-url>
cd log_microservice_dockerized
```

### 2. Start Services with Docker Compose
```bash
docker-compose up --build
```

- FastAPI runs on: `http://localhost:8001`
- Swagger UI available at: `http://localhost:8001/docs`
- MySQL DB accessible on port `3306`

---

## 🧪 Sample API Usage

### POST `/log`
```json
{
  "service": "alumni_service",
  "user_id": "anvitha123",
  "action": "CREATE_PROFILE",
  "details": {
    "profile": "Anvitha Anand"
  }
}
```

### GET `/logs`
- `/logs` — Fetch all logs
- `/logs?service=alumni_service`
- `/logs?user_id=anvitha123`

---

## 🛠️ Project Structure

```
log_service/
├── app/
│   ├── database.py
│   ├── models.py
│   ├── routes.py
│   └── schemas.py
├── main.py
├── .env
├── Dockerfile
├── docker-compose.yml
└── requirements.txt
```

---

## 👩‍💻 Author

**Anvitha Anand**  
PES University — B.Tech, AI & ML  
SRN: PES1UG22AM029

---

## 📄 License

MIT License — use freely, modify openly.
